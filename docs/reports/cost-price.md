# Себестоимость

Раздел позволяет анализировать себестоимость товаров на основе загруженных прайсов. Себестоимость рассчитывается по методу FIFO и зависит только от данных, введённых пользователем: от загруженных прайсов и выбранных дат фиксации. Мы не выгружаем себестоимость из Ozon, поэтому при отсутствии данных значение считается нулевым.

---

## 1. Как рассчитывается себестоимость

STPulse использует метод **FIFO** (First In — First Out).

Основные принципы:

1. Себестоимость товаров определяется по дате поступления на склады Ozon и дате фиксации.
2. Более ранние поставки считаются проданными первыми.
3. Средняя себестоимость рассчитывается по доступным остаткам.
4. **Если себестоимость не была загружена — она равна 0.**

!!! warning "Важно"
    Если вы не загружали прайс — себестоимость товара будет **0 ₽** независимо от поставки и даты.

---

## 2. Дата фиксации при загрузке прайса

При импорте прайса вы указываете **дату фиксации** — начало действия новых цен.

Логика работы:

- для поставок **до первой даты фиксации** используется себестоимость = **0**, если не было загружено прайсов ранее;
- для поставок **после даты фиксации** используется себестоимость из соответствующего прайса;
- если загружено несколько прайсов, себестоимость распределяется по периодам.

### Как работают несколько прайсов

Если импортированы несколько прайсов с разными датами фиксации:

1. Поставки **до первого прайса** → себестоимость = 0.  
2. Поставки **между первым и вторым прайсом** → применяется себестоимость первого прайса.  
3. Поставки **после второго прайса** → применяется себестоимость второго прайса.  
4. И так далее по всем последующим датам фиксации.

!!! tip "Подсказка"
    Каждый прайс создаёт свой “период действия цены”, и STPulse автоматически назначает себестоимость поставкам внутри этих периодов.

---

## 3. Импорт прайса себестоимости

1. Нажмите **«Импортировать прайс»**.
2. Выберите **дату фиксации**, с которой начинает действовать новая себестоимость.
3. Загрузите файл формата XLSX.
4. Нажмите **«Импортировать»**.

Доступно:

- **«Пример файла»** — корректный образец данных.  
- **«Скачать шаблон с артикулами без себестоимости»** — товары, где себестоимость равна 0 и требует заполнения.

!!! warning "Важно"
    Если вы не загружали прайс, себестоимость товара будет считаться нулевой для всех поставок.

---

## 4. Таблица «Себестоимость»

Столбцы:

- **Показатели** — список категорий, моделей и SKU.  
- **Средняя себестоимость 1 шт** — средняя стоимость остатков на текущий момент.  
- **Остатки** — количество товара на складах Ozon.  
- **Себестоимость 1 шт** — себестоимость конкретной партии (с учётом FIFO и прайсов).  
- **Себестоимость всего** — общая стоимость остатков = остатки × себестоимость.

---

## 5. Таблица «Динамика»

Показывает изменения себестоимости во времени и позволяет сравнивать её с датой фиксации.

Столбцы:

- **Средняя себестоимость 1 шт** — текущая средняя себестоимость остатков.  
- **01.01.2025** (или другая дата) — себестоимость, зафиксированная на дату загрузки прайса.

!!! tip "Подсказка"
    Если у товара нет загруженной себестоимости до указанной даты — в столбце будет отображаться **0 ₽**.

---

## Пример

Вы загружаете два прайса:

- **01.01.2025** — себестоимость товара: 750 ₽  
- **01.03.2025** — обновлённая себестоимость: 820 ₽  

До 01.01.2025 у товара нет данных → себестоимость = 0.

Что покажет система:

- поставки в декабре 2024 → себестоимость 0 ₽  
- поставки январь–февраль 2025 → себестоимость 750 ₽  
- поставки с марта → себестоимость 820 ₽  

**Средняя себестоимость** будет рассчитана по FIFO в зависимости от остатков.

---

## Частые ошибки

- Отсутствие прайса → себестоимость = 0 
- Несколько прайсов загружены с неправильными датами → неверное распределение себестоимости.  
- Артикул в прайсе не совпадает с артикулом Ozon → цена не применяется.  
- Прайс загружен, но выбран период до даты фиксации → отображается старая себестоимость (или 0).  

